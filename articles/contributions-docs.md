---
title: 'ドキュメント修正からはじめるOSSコントリビュート【Expo編】'
emoji: '🔰'
type: 'tech' # tech: 技術記事 / idea: アイデア
topics: ['oss', 'expo', 'reactnative']
published: false
---

# はじめに

前回の記事では、OSS コントリビュートの基本的な流れを紹介しました。
いわば「入門編」として、実際に Pull Request を出す流れを学ぶような内容です。

前回の記事はこちら👇
https://zenn.dev/kaz_z/articles/first-contributions

今回はその次のステップとして、実際の OSS である Expo に PR を出したときの体験を紹介します。
内容はドキュメント修正と、それに関連するスクリプト修正だけですが、それでも「コード本体を触らなくても OSS に関われるんだ」と実感できるものでした。

この記事を通して、読んでくださった方に「自分も小さなところから始められる」と思ってもらえたら嬉しいです。

## 対象読者

- OSSコントリビュートをしてみたいが何から始めればいいかわからない方
- 実際のコントリビュートの流れを知りたい方

# PR を出すまでの経緯

最近、React Native のフレームワークである [Expo](https://expo.dev/) について調べる機会がありました。
Expo はオープンソースで開発されており、GitHub 上でソースコードが公開されています。

学び始めるにあたって、まずはチュートリアルに取り組むことにしました。
ただ、チュートリアルを進めていく中でドキュメントの一部がスクリプト実行後のコードと一致していないことに気づきました。

簡単に紹介すると、`npx create-expo-app` を実行して新しいプロジェクトを作成したあと、`reset-project` スクリプトを実行すると既存のファイルをリセットできます。

ドキュメントでは以下のように`StyleSheet.create`を使ってスタイルを定義するコードで説明されていました。

```tsx:index.tsx
import { Text, View, StyleSheet } from 'react-native';

export default function Index() {
  return (
    <View style={styles.container}>
      <Text>Edit app/index.tsx to edit this screen.</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
  },
});
```

しかし実際に `reset-project` スクリプトを実行すると、以下のように View コンポーネントに直接スタイルを当てているコードが生成される状態でした。

```tsx:index.tsx
import { Text, View } from 'react-native';

export default function Index() {
  return (
    <View
      style={{
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
      }}
    >
      <Text>Edit app/index.tsx to edit this screen.</Text>
    </View>
  );
}
```

些細な差ではありましたが、公式ドキュメントとして正確である方が望ましいと考え、修正を提案することにしました。

## 既存の Issue と PR を確認する

まずは、Expo の GitHub リポジトリにアクセスし、既存の Issue や PR を確認しました。
同じような問題が報告されていないか、またはすでに修正が提案されていないかをチェックしました。

調べたところ同じ問題は報告されていなかったので、自分で修正を提案しようと考えました。
最初に Issue を立ててから PR を出すことも考えましたが、軽微な問題なので直接 PR を出すことにしました。

## CONTRIBUTING.md を読む

次に、リポジトリにある `CONTRIBUTING.md` を読みました。
ここには、コントリビューションを行う際のガイドラインが記載されています。
各種ルールや手順を確認し、遵守することを心がけました。

# 実際に PR を出す

今回の PR は以下です。

https://github.com/expo/expo/pull/39358

レビューの返信や翻訳などは ChatGPT に手伝ってもらいました。
これ以降は、実際に PR を出してからマージされるまでの流れを紹介します。

## 9 月 3 日 - PR を作成

ドキュメントとスクリプトを修正した PR を作成しました。
Expo のリポジトリは PR の数が多いので、説明欄はテンプレートに加えてスクリーンショットを添えるなど、レビュワーが内容を把握しやすく目に留まるように工夫をしました。

## 9 月 4 日 - レビューコメントがくる

一人目のメンテナから「テンプレートの変更はいいがドキュメントの変更をこの PR に含めるべきではない」というレビューがきました。
それに対し私は A 案と B 案があるけどどっちで進めるのがいい？と返信しました。

## 9 月 10 日 - 質問の返信がくる

5 日後、二人目のメンテナから返信が来ました。
「ドキュメントの変更は別の PR に分けて、こちらはスクリプトの変更だけにした方が良い」という内容でした。

## 9 月 12 日 - 修正して再度レビューを依頼する

最初のレビューが数時間後だったのに対し、今回は 5 日後の反応だったので半ば諦めていました。
そのため上記返信に気づいたのが返信が来た 3 日後で、すぐにドキュメント修正を別 PR に分けて再度レビューを依頼しました。

すると、すぐに二人目のメンテナから Approved されました。
一人目のメンテナからはまだ返信がなかったので、しばらく待つことにしました。

## 9 月 18 日 - レビュー依頼を再リマインドする

一週間立っても反応がありません。
海外の人はバケーションとかあるしな。。。なんて思いながら待っていました。
ただ、ここ一週間は Approved されないかずっと気になって何度も確認している状態だったので、時間があるときにレビューしてくれ というリマインドコメントを残しました。

## 9 月 19 日 - Approved される

すると、すぐに一人目のメンテナからも Approved されました。

## 9 月 28 日 - マージされる

Approved されたらすぐにマージされるかと思いきや、なかなかマージされません。
リリースタイミングとかありそうだしなと思いつつ、他の PR はどんどんマージされていくので、またソワソワし始めました。

いつマージされる？ と聞くのは流石に自己中だと思い、
Deep Research で過去半年でメンテナー以外の一般コントリビューターによるPRがApprovedされてから実際にマージされるまでにかかった時間を調べてみました。

| 承認からマージまでの期間 | 該当PRの割合 | 備考 |
|--------------------------|--------------|------|
| 1日以内                 | 約50%        | 半分は即日〜翌日にマージ |
| 3日以内                 | 約80%        | 大多数は3日以内にマージ |
| 1週間以内               | 約90%        | ほとんどは1週間でマージ完了 |
| 2週間以上               | 10%未満     | ごく一部。リリース都合や追加調整の可能性 |

調べた結果、1週間以上かかるのはかなりレアケースであることがわかりました。

そこで、「レビューをありがとう！確認ですが、マージ前に私の側で必要なことは他にありませんか？」というようなリマインドコメントを再びしました。

するとすぐに返信があり、無事にマージされました 🎉

![最新コミットの記念スクショ](/images/contributions-docs/expo.jpeg)
_最新コミットにいる記念のスクショ_

# おわりに

今回の記事では実際のOSSにPRがマージされるまでの過程を紹介しました。
もし「貢献してみたいけど難しそう」と思っている方がいたら、まずはドキュメント修正のような小さな一歩から始めてみるのがおすすめです。
